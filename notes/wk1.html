
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Week 1 Notes &#8212; ICS 32 Winter 2022</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Week 2 Notes" href="wk2.html" />
    <link rel="prev" title="Labs" href="../assignments/lab.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo_stacked.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">ICS 32 Winter 2022</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html">
   Programming with Software Libraries
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Assignments
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../assignments/a0.html">
   Assignment 0
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../assignments/a1.html">
   Assignment 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../assignments/a2.html">
   Assignment 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../assignments/a3.html">
   Assignment 3
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../assignments/a4.html">
   Assignment 4
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../assignments/a5.html">
   Assignment 5
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reinforcement Work
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../assignments/refactor.html">
   Refactor Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../assignments/lab.html">
   Lab Overview
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Lecture Notes
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Week 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="wk2.html">
   Week 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="wk3.html">
   Week 3
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="wk4.html">
   Week 4
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="wk5.html">
   Week 5
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="wk6.html">
   Week 6
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="wk7.html">
   Week 7
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="wk8.html">
   Week 8
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="wk9.html">
   Week 9
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Final Project
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../final.html">
   Project Requirements
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/notes/wk1.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#week-1-overview">
   Week 1 Overview
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lecture-materials">
   Lecture Materials
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#live-class">
     Live Class
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#tuesday">
       Tuesday
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#thursday">
       Thursday
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#recorded-lectures">
     Recorded Lectures
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#handling-errors">
       Handling Errors
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#lecture-recording">
         Lecture Recording
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#lecture-notes">
         Lecture Notes
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="week-1-notes">
<h1>Week 1 Notes<a class="headerlink" href="#week-1-notes" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Keep an eye weekly pages as they might be updated throughout the week.</p>
</div>
<div class="section" id="week-1-overview">
<h2>Week 1 Overview<a class="headerlink" href="#week-1-overview" title="Permalink to this headline">¶</a></h2>
<p>Normally weekly notes will be released at beginning of each week. Since this is our first week together, however, the notes and lecture recordings will be release after our first class together on Tuesday the 4th. Check back here after class on Tuesday and Thursday for updates.</p>
</div>
<div class="section" id="lecture-materials">
<h2>Lecture Materials<a class="headerlink" href="#lecture-materials" title="Permalink to this headline">¶</a></h2>
<div class="section" id="live-class">
<h3>Live Class<a class="headerlink" href="#live-class" title="Permalink to this headline">¶</a></h3>
<div class="section" id="tuesday">
<h4>Tuesday<a class="headerlink" href="#tuesday" title="Permalink to this headline">¶</a></h4>
<p><a href="../resources/Introduction-to-ICS32.pdf">Slides</a></p>
<p><a href="https://uci.zoom.us/rec/share/l-PIX0txfFz2aajBrs5EGmdq2eY8E3SycC2ZOi3irYbud3wNEt-6EBhuIGvUBX0n.1-LwI3ArDUPZ8R7M?startTime=1641329512000">Recording</a></p>
</div>
<div class="section" id="thursday">
<h4>Thursday<a class="headerlink" href="#thursday" title="Permalink to this headline">¶</a></h4>
<p><a href="https://uci.zoom.us/rec/share/dkzVNnfbafzv0sq4LgW28iCERPqD7esAn0pSxipvL5zZh3SuEPMwH4xQM5btGcon.-7wneKpayZzbcleO">Recording</a></p>
</div>
</div>
<div class="section" id="recorded-lectures">
<h3>Recorded Lectures<a class="headerlink" href="#recorded-lectures" title="Permalink to this headline">¶</a></h3>
<div class="section" id="handling-errors">
<h4>Handling Errors<a class="headerlink" href="#handling-errors" title="Permalink to this headline">¶</a></h4>
<div class="section" id="lecture-recording">
<h5>Lecture Recording<a class="headerlink" href="#lecture-recording" title="Permalink to this headline">¶</a></h5>
<p><a class="reference external" href="https://uci.yuja.com/V/Video?v=4086515&amp;node=13881759&amp;a=551849669&amp;autoplay=1">Error Handling Lecture</a></p>
</div>
<div class="section" id="lecture-notes">
<h5>Lecture Notes<a class="headerlink" href="#lecture-notes" title="Permalink to this headline">¶</a></h5>
<p>In this lecture we are going to talk about error handling and using the try/except statement. As you may already know, when we write programs errors are inevitable. Even in the most perfectly written programs, errors can occur. It’s very difficult to predict every possible condition that we may encounter. Oftentimes, these are internal errors that occur due to the code we write and other times they are external forces that are beyond our control. Even when our code is perfect, something external to our code might happen, right? Imagine for a moment that your program is in the middle of downloading a file from a server on the internet. Take a minute, think about all the different conditions that might occur to prevent your file from downloading:</p>
<ul class="simple">
<li><p>The server might crash.</p></li>
<li><p>The server might lose connection to the Internet.</p></li>
<li><p>You might lose connection to the Internet.</p></li>
<li><p>Your WiFi router could stop working.</p></li>
<li><p>Your network card could stop working.</p></li>
</ul>
<p>There’s a lot of reasons. These types of conditions are generally things that are out of your control, but you still need to think about them and handle them in your program. Unless you protect your code appropriately, it’s likely that it will fail at some point during its operation. In this lecture, I want to talk about how you can go about protecting your code from both predictable errors and the unpredictable scenarios that we might not necessarily expect to happen. So let’s start with a quick example:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When you see the following characters, &gt;&gt;&gt;, in the code examples, you do not have to type them in. They are used here to demonstrate that the code is run directly from the python shell. So if you are following along, just type whatever comes after the &gt;&gt;&gt; characters.</p>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span>
&gt;&gt;&gt; n = int(input(&quot;What is your age? &quot;))
What is your age? 12

</pre></div>
</div>
<p>Here we simply ask the user for some input. We assume that the user will enter a numeric value, so we go ahead and cast that input to an integer so we can perform some mathematical operation with it. The program runs without issue, as long we enter a numeric value. But what happens if we enter a lexical value? Let’s say, for example, that the person using our program prefers to write numerical values using lexical notation:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span>
&gt;&gt;&gt; n = int(input(&quot;What is your age? &quot;))
What is your age? twelve

</pre></div>
</div>
<p>The user is still answering the question correctly, right? Unfortunately, the program we have written doesn’t account for lexical inputs and the results are less than desirable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Trackeback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;pyshell#1&gt;, line 1, in &lt;module&gt;</span>
	  <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What is your age? &quot;</span><span class="p">))</span>
<span class="ne">ValueError</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">literal</span> <span class="k">for</span> <span class="nb">int</span><span class="p">()</span> <span class="k">with</span> <span class="n">base</span> <span class="mi">10</span><span class="p">:</span> <span class="s1">&#39;twelve&#39;</span>
</pre></div>
</div>
<p>If you haven’t seen this type of statement before, it’s called a <strong><code class="docutils literal notranslate"><span class="pre">traceback</span></code></strong>. Traceback’s are way for the Python interpreter to tell us information about why our program crashed. The program we have created only has one line of code, so the traceback is only going to go to the first line and report that that’s where the error occurred. But it’s also going to provide us with the code that was on that line and what type of error occurred. Finally, you will notice that the traceback also provides some information about the input that resulted in the error. So, looking at the last line of the traceback, we can see the error type is a <strong><code class="docutils literal notranslate"><span class="pre">ValueError</span></code></strong> and it occurred because we attempted to convert a lexical value to an integer.</p>
<p>The important takeaway here is that these are the types of conditions you may encounter when writing a program. You might expect the user to enter what you think is obvious, like a numerical representation for an integer, but users aren’t always as predictable as we think. They often do things differently and behave in ways that we don’t intend. So what can we do to make sure that our code continues to work as we expect when a user engages in unpredictable behavior?</p>
<p>Let’s answer that question by starting with a slightly more robust program. We’ll start with a function that collects user input and declare a <strong><code class="docutils literal notranslate"><span class="pre">error_handling.py</span></code></strong> program as a main module:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># error_handling.py</span>

<span class="k">def</span> <span class="nf">run</span><span class="p">():</span>
  <span class="n">a</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
  <span class="n">b</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
  <span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>If we run this program, we will be able to input a value and have it assigned to the variable <strong><code class="docutils literal notranslate"><span class="pre">a</span></code></strong>, then enter a second value that will be assigned to the variable <strong><code class="docutils literal notranslate"><span class="pre">b</span></code></strong>. So far so good. The program runs, but doesn’t actually do anything yet. So let’s add another function that will be responsible for adding the two input values together.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># error_handling.py</span>

<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
  <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">run</span><span class="p">():</span>
  <span class="n">a</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
  <span class="n">b</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
  <span class="n">r</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
  <span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Once again running the program under the assumption that inputs will always be numerical values, the program works just fine. However, if we attempt to use an invalid value, the program crashes and produces the following traceback:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;/usr/lib64/python3.10/idlelib/run.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">580</span><span class="p">,</span> <span class="ow">in</span> <span class="n">runcode</span>
    <span class="n">exec</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">locals</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;/home/mark/ics32/error_handling.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">12</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">run</span><span class="p">()</span>
  <span class="n">File</span> <span class="s2">&quot;/home/mark/ics32/error_handling.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">8</span><span class="p">,</span> <span class="ow">in</span> <span class="n">run</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;/home/mark/ics32/error_handling.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">3</span><span class="p">,</span> <span class="ow">in</span> <span class="n">add</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="ne">ValueError</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">literal</span> <span class="k">for</span> <span class="nb">int</span><span class="p">()</span> <span class="k">with</span> <span class="n">base</span> <span class="mi">10</span><span class="p">:</span> <span class="s1">&#39;twelve&#39;</span>
</pre></div>
</div>
<p>Notice how now that the program operates through multiple function calls, the traceback is a little bit more complex. The error type is the same, but we can look at the traceback to identify where the error is occurring: line 3! So we need to make sure that the code we are writing does not attempt to cast a value input by the user to an integer. There are a few ways to go about solving this problem. We could first check to see if the variables the inputs have been assigned to can be represented as the type we desire (integer), but this would take quite a bit of code to account for all the possible input variations. The simplest approach is to simply attempt to perform the operation and <em>handle</em> any potential errors that occur. If we look at the traceback we received above, we can see that root of the error in our module starts at line 12 with the call to the <strong><code class="docutils literal notranslate"><span class="pre">run</span></code></strong> function. So let’s wrap that function call with some error handling:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># error_handling.py</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
  <span class="k">try</span><span class="p">:</span>
    <span class="n">run</span><span class="p">()</span>
  <span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;An error has occurred&quot;</span><span class="p">)</span>

</pre></div>
</div>
<p>When the program is run again and a non-integer value is entered by the user, instead of a traceback the program will output the message we have written in the <strong><code class="docutils literal notranslate"><span class="pre">except</span></code></strong> statement above. The <strong><code class="docutils literal notranslate"><span class="pre">try/except</span></code></strong> statement tells Python how to handle code that might cause an error by providing it with alternative options. Let’s look at the try statement a little more closely.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
	<span class="c1"># Operation to perform</span>
<span class="k">except</span><span class="p">:</span>
	<span class="c1"># Operation to perform if an error occurs on the first operation</span>
<span class="k">else</span><span class="p">:</span>
	<span class="c1"># Operation to perform in an error does not occur on the first operation</span>
<span class="k">finally</span><span class="p">:</span>
	<span class="c1"># Operation to perform regardless of what happes to the first operation</span>
</pre></div>
</div>
<p>The <strong><code class="docutils literal notranslate"><span class="pre">try</span></code></strong> statement will execute up to four conditional operations based on the operation of the code placed in the try block. It’s likely that you won’t always use all four conditions, but depending on the type of operations your code is performing, it is possible. For now we will focus on the the <strong><code class="docutils literal notranslate"><span class="pre">try</span></code></strong> and <strong><code class="docutils literal notranslate"><span class="pre">except</span></code></strong> blocks. We’ll cover the other conditions in more depth later in the course.</p>
<p>So with a try statement in place, our program can safely run without crashing. However, because we have placed the try statement at the root of our program, any and all errors that occur will be handled here. As a program grows in complexity, this approach will make managing your code quite difficult. A better approach would be to target that actual operation that <em>we know</em> is causing the error. In our case, since we are receiving an exception of type <strong><code class="docutils literal notranslate"><span class="pre">ValueError</span></code></strong> whenever we attempt to cast a non-integer value to integer, perhaps we should locate the try statement closer to the source?</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># error_handling.py</span>

<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
  <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">try</span><span class="p">:</span>
    <span class="n">r</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
  <span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;An error has occurred&quot;</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">r</span> 

<span class="k">def</span> <span class="nf">run</span><span class="p">():</span>
  <span class="n">a</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
  <span class="n">b</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
  <span class="n">r</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
  <span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>This looks like a good start. Now the error is handled where it occurs, rather than waiting for it to pass up through the trace. However, it’s not a very friendly experience. First, we have no way of knowing which variable could not be cast. Second, we print a message to the user from within the add function when our actual interaction with the user occurs in the run function. We could probably make a few changes here like adding a second try/except, putting some additional checks on the return value from the <strong><code class="docutils literal notranslate"><span class="pre">add</span></code></strong> function, give the user an opportunity to attempt to input new values, but the code would get overly complicated quickly.</p>
<p>We’ll be talking a lot about abstraction, the process of unifying code to reduce repetition, this quarter. It is an important part of the programming process and one that is a useful for creating good code refactors (hint, hint). So to apply some light abstraction, rather than wrap the lines of code where we actually perform the type cast, let’s create a new function that can perform this operation for us in one place.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span>
<span class="k">def</span> <span class="nf">is_int</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
  <span class="k">try</span><span class="p">:</span>
    <span class="nb">int</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
  <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
    <span class="k">return</span> <span class="kc">False</span>

</pre></div>
</div>
<p>Notice that we have also specified the exact error type that we want to handle in this function: <strong><code class="docutils literal notranslate"><span class="pre">ValueError</span></code></strong>. This means that all other exception types will not be handled here. So now we have a function designed with the sole purpose of checking whether or not a value is an integer. The rest of our original code is more or less free to operate as originally planned, with one minor change:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># error_handling.py</span>

<span class="k">def</span> <span class="nf">is_int</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
  <span class="k">try</span><span class="p">:</span>
    <span class="nb">int</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
  <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
    <span class="k">return</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
  <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">run</span><span class="p">():</span>
  <span class="n">a</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
  <span class="n">b</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
  <span class="k">if</span> <span class="n">is_int</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span> <span class="ow">or</span> <span class="n">is_int</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Unable to perform operation with supplied values&quot;</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
  <span class="n">run</span><span class="p">()</span>

</pre></div>
</div>
<p>Now we only need to add one conditional statement to check the user input values and provide some feedback to the user. We also now have a program that keeps all user input and output in one place (the run function) instead of scattering print statements throughout the program code.</p>
<p>Okay, if you haven’t tried running this code yet, please do. My goal with these lectures and notes is to give you enough code to follow along and view the results on your computer in real time. If you have made it this far, play around with the code a bit more. How would you go about adding support for values of type float? How might you redesign the <strong><code class="docutils literal notranslate"><span class="pre">run</span></code></strong> function to allow the user to <em>fix</em> their input error other than having to run the program again?</p>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notes"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../assignments/lab.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Labs</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="wk2.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Week 2 Notes</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Mark S. Baldwin<br/>
        
            &copy; Copyright 2022.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>